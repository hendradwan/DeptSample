@model DeptSample.Data.Models.Department

<li>
    <span class="tree-toggle" onclick="toggleSub(this)">
        ▶ <span onclick="selectParent(@Model.Id, this)" class="tree-node">@Model.Name</span>
    </span>

    @if (Model.SubDepartments != null && Model.SubDepartments.Any())
    {
        <ul class="tree-branch" style="display: none;">
            @foreach (var sub in Model.SubDepartments)
            {
                @Html.Partial("_ParentDepartmentTreeItem", sub)
            }
        </ul>
    }
</li>